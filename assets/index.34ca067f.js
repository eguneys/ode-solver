var p=Object.defineProperty;var g=(o,t,e)=>t in o?p(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var a=(o,t,e)=>(g(o,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();const d=class{constructor(t,e,i){a(this,"ctx");this.width=t,this.height=e,this.canvas=i,this.ctx=i.getContext("2d")}clear(){this.ctx.clearRect(0,0,this.width,this.height)}fr(t,e,i,s,n){this.ctx.fillStyle=t,this.ctx.fillRect(e,i,s,n)}line(t,e,i,s,n,l){this.ctx.strokeStyle=t,this.ctx.lineWidth=e,this.ctx.beginPath(),this.ctx.moveTo(i,s),this.ctx.lineTo(n,l),this.ctx.closePath(),this.ctx.stroke()}};let c=d;a(c,"make",(t,e,i)=>{let s=document.createElement("canvas");return s.width=t,s.height=e,i.appendChild(s),new d(t,e,s)});const y=o=>{let t,e=0;function i(s){let n=s-(e||s);e=s,n=Math.max(Math.min(n,16),4),o(n),t=requestAnimationFrame(i)}return t=requestAnimationFrame(i),()=>{cancelAnimationFrame(t)}},r=class{constructor(t,e){a(this,"x");a(this,"y");this.x=t,this.y=e}get key(){return[this.x,this.y].join(";")}static get unit(){return new r(1,1)}static get zero(){return new r(0,0)}static get left(){return new r(-1,0)}static get right(){return new r(1,0)}static get up(){return new r(0,-1)}static get down(){return new r(0,1)}get neighbours(){return[r.up,r.down,r.left,r.right].map(t=>t.add(this))}get vs(){return[this.x,this.y]}get mul_inverse(){return new r(1/this.x,1/this.y)}get inverse(){return new r(-this.x,-this.y)}get half(){return new r(this.x/2,this.y/2)}get length_squared(){return this.x*this.x+this.y*this.y}get length(){return Math.sqrt(this.length_squared)}get normalize(){if(this.length!==0)return this.scale(1/this.length)}get perpendicular(){return new r(-this.y,this.x)}get clone(){return new r(this.x,this.y)}get angle(){return Math.atan2(this.y,this.x)}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}project_to(t){let e=t.length_squared,i=this.dot(t);return r.make(i*t.x/e,i*t.y/e)}distance(t){return this.sub(t).length}addy(t){return r.make(this.x,this.y+t)}add_angle(t){return r.from_angle(this.angle+t)}scale(t){let{clone:e}=this;return e.scale_in(t)}scale_in(t){return this.x*=t,this.y*=t,this}add(t){let{clone:e}=this;return e.add_in(t)}add_in(t){return this.x+=t.x,this.y+=t.y,this}sub(t){let{clone:e}=this;return e.sub_in(t)}sub_in(t){return this.x-=t.x,this.y-=t.y,this}mul(t){let{clone:e}=this;return e.mul_in(t)}mul_in(t){return this.x*=t.x,this.y*=t.y,this}div(t){let{clone:e}=this;return e.div_in(t)}div_in(t){return this.x/=t.x,this.y/=t.y,this}set_in(t,e=this.y){return this.x=t,this.y=e,this}};let h=r;a(h,"from_key",t=>new r(parseFloat(t.split(";")[0]),parseFloat(t.split(";")[1]))),a(h,"from_angle",t=>new r(Math.cos(t),Math.sin(t))),a(h,"make",(t,e)=>new r(t,e));const m=(o,t)=>{for(let e=0;e<o.length;e++)for(let i=e+1;i<o.length;i++)t(o[e],o[i])};let u=[];h.make(1080,1920);const f=o=>{u=[{position:h.make(200,200),prev_position:h.make(200,200).sub(h.make(20,0).scale(1/60)),velocity:h.make(20,0),radius:40},{position:h.make(400,200),prev_position:h.make(400,200).sub(h.make(-20,0).scale(1/60)),velocity:h.make(-20,0),radius:20}];let t=c.make(1080,1920,o);y(e=>{x(),t.clear(),t.fr("hsl(0, 10%, 30%)",0,0,1080,1920),u.forEach(i=>t.fr("hsl(0, 60%, 40%)",i.position.x-i.radius,i.position.y-i.radius,i.radius*2,i.radius*2))})};function x(){let o=.016666666666666666;u.forEach(t=>{let{position:e,prev_position:i,velocity:s}=t;t.prev_position=e,t.position=e.add(s.scale(o))}),m(u,(t,e)=>{if(t===e)return;let i=e.position.sub(t.position),s=t.radius+e.radius;if(i.length<s)throw 3}),u.forEach(t=>{let{position:e,prev_position:i,velocity:s}=t;t.velocity=e.sub(i).scale(1/o)})}f(document.getElementById("app"));
